{% extends 'base.html' %}

{% load static %}

{% block body %}
    <body class="d-flex flex-column overflow-hidden min-vh-100 vh-100">
        <main class="container-fluid d-flex flex-column justify-content-start flex-grow-1 overflow-auto bg-primary bg-gradient position-relative login-page scroll-custom-y">
            <a class="d-flex justify-content-center py-4 position-relative z-3" href="https://www.xabber.com/" target="_blank">
                <img class="me-2" src="{% static 'img/logo.png' %}" width="128" height="128" alt="Xabber">
            </a>

            <div class="w-100 cmw-480 mx-auto px-3 px-md-4 py-5 p-md-5 bg-body rounded-2 text-center position-relative z-3">
                <form method="post" action="{% url 'custom_auth:login' %}">
                    {% csrf_token %}
                    <input type="hidden" value="{{ request.GET.next }}" name="next">

                    <div class="mb-5">
                        <h2 class="fw-normal">Xabber Server</h2>
                        <p class="text-secondary">
                            Management panel
                        </p>
                    </div>

                    <div class="mb-3">
                        <input class="form-control {% if form.username.errors %}is-invalid{% endif %}" type="text" name="username" autofocus="" placeholder="username@example.com" {% if form.username.data %}value="{{ form.username.data }}"{% endif %}>
                    </div>

                    <div class="mb-3">
                        <input class="form-control {% if form.password.errors %}is-invalid{% endif %}" type="password" name="password" placeholder="Password" {% if form.password.data %}value="{{ form.password.data }}"{% endif %}>
                    </div>

                    {% if form.errors %}
                        <div class="mb-3">
                            <div class="form-text text-danger mt-0">
                                Wrong username or password. Access denied.
                            </div>
                        </div>
                    {% endif %}

                    <button class="btn btn-primary" type="submit">Login</button>
                </form>
            </div>

            <div class="w-100 cmw-480 mx-auto py-5 position-relative z-3">
                <div class="row">
                    <a class="col-6 text-center text-white" target="_blank" href="https://play.google.com/store/apps/details?id=com.xabber.android">
                        <svg width="36" height="66" viewBox="0 0 36 66" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M30.7317 0H5.08584C2.48814 0 0.381836 2.1063 0.381836 4.704V60.5143C0.381836 63.1127 2.48744 65.2183 5.08584 65.2183H30.7317C33.3308 65.2183 35.4371 63.1127 35.4371 60.5143V4.704C35.4364 2.1063 33.3308 0 30.7317 0ZM14.7619 2.7811H21.0556C21.2817 2.7811 21.4658 2.9652 21.4658 3.192C21.4658 3.4181 21.2817 3.6022 21.0556 3.6022H14.7619C14.5351 3.6022 14.3517 3.4181 14.3517 3.192C14.3517 2.9652 14.5358 2.7811 14.7619 2.7811ZM8.48854 1.7941C8.85114 1.7941 9.14514 2.0881 9.14514 2.4507C9.14514 2.8133 8.85184 3.1073 8.48854 3.1073C8.12524 3.1073 7.83194 2.8133 7.83194 2.4507C7.83194 2.0881 8.12594 1.7941 8.48854 1.7941ZM5.51354 1.4007C6.09384 1.4007 6.56354 1.8711 6.56354 2.4507C6.56354 3.0303 6.09384 3.5007 5.51354 3.5007C4.93324 3.5007 4.46354 3.0303 4.46354 2.4507C4.46354 1.8711 4.93324 1.4007 5.51354 1.4007ZM19.5513 62.8306H16.2676C15.226 62.8306 14.3825 61.9871 14.3825 60.9469C14.3825 59.906 15.226 59.0625 16.2676 59.0625H19.5513C20.5929 59.0625 21.4364 59.906 21.4364 60.9469C21.4364 61.9871 20.5929 62.8306 19.5513 62.8306ZM33.4442 57.5736H2.37404V7.644H33.4442V57.5736Z" fill="white"/>
                            <path d="M23.8263 30.0475V38.6536C23.8263 39.2445 23.3733 39.7331 22.7964 39.7956L22.671 39.8023H21.4347V42.7463C21.4347 43.3937 20.9381 43.9291 20.3043 43.9935L20.1758 44H20.1226C19.4746 44 18.9344 43.5058 18.8694 42.8744L18.8628 42.7463V39.8023H17.1363V42.7463C17.1363 43.3937 16.6389 43.9291 16.005 43.9935L15.8765 44H15.8224C15.1745 44 14.6358 43.5058 14.571 42.8744L14.5645 42.7463V39.8023H13.329C12.7352 39.8023 12.2427 39.3532 12.1797 38.7785L12.1729 38.6536V30.0475H23.8263ZM10.312 29.8476C10.9609 29.8476 11.4988 30.3433 11.5642 30.972L11.5709 31.0994V36.5498C11.5709 37.1955 11.0743 37.7316 10.4413 37.7961L10.313 37.8026H10.258C9.60832 37.8026 9.07113 37.3084 9.00651 36.6777L9 36.5498V31.0994C9 30.4546 9.49659 29.9186 10.1297 29.8541L10.258 29.8476H10.312ZM25.7411 29.8476C26.4341 29.8476 27 30.4116 27 31.0994V36.5498C27 37.2385 26.4359 37.8026 25.742 37.8026H25.6888C24.9968 37.8026 24.4291 37.2404 24.4291 36.5498V31.0994C24.4291 30.4116 24.9959 29.8476 25.6888 29.8476H25.7411ZM21.8221 23.0341C21.9025 23.0857 21.9353 23.1845 21.9075 23.2711L21.8834 23.3211L20.9021 24.8285C22.6719 25.692 23.8667 27.3196 23.8667 29.1866L23.8623 29.3576L23.8505 29.5265H12.1512C12.1413 29.4144 12.1341 29.3014 12.1341 29.1866C12.1341 27.3943 13.2345 25.8226 14.8891 24.9357L15.0988 24.8285L14.1166 23.3211C14.0535 23.226 14.0815 23.0959 14.1779 23.0341C14.2582 22.9818 14.363 22.9911 14.4317 23.0523L14.468 23.0951L15.4836 24.6545C16.2486 24.3434 17.0993 24.1685 18.0004 24.1685C18.7882 24.1685 19.5393 24.3024 20.2261 24.5443L20.5164 24.6545L21.5337 23.0951C21.596 22.9973 21.7266 22.9713 21.8221 23.0341ZM15.2881 26.4094C14.9772 26.4094 14.7248 26.6578 14.7248 26.9681C14.7248 27.2784 14.9772 27.5277 15.2881 27.5277C15.5989 27.5277 15.8513 27.2784 15.8513 26.9681C15.8513 26.6578 15.6007 26.4094 15.2881 26.4094ZM20.7119 26.4094C20.4011 26.4094 20.1487 26.6578 20.1487 26.9681C20.1487 27.2784 20.4011 27.5277 20.7119 27.5277C21.0237 27.5277 21.2742 27.2784 21.2742 26.9681C21.2742 26.6578 21.0237 26.4094 20.7119 26.4094Z" fill="white"/>
                        </svg>

                        <div class="mt-3">
                            Xabber for Android
                        </div>
                    </a>

                    <a class="col-6 text-center text-white" target="_blank" href="https://testflight.apple.com/join/8AVdKqCK">
                        <svg width="33" height="66" viewBox="0 0 33 66" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M26.6888 65.34C26.6888 65.34 32.6197 65.34 32.6197 59.4002V5.93975C32.6197 0 26.6888 0 26.6888 0H5.93084C5.93084 0 0 0 0 5.93975V59.4002C0 65.34 5.93084 65.34 5.93084 65.34H26.6888ZM16.3098 62.8668C14.673 62.8668 13.3445 61.5382 13.3445 59.9014C13.3445 58.2645 14.673 56.9361 16.3098 56.9361C17.9468 56.9361 19.2752 58.2646 19.2752 59.9014C19.2752 61.5383 17.9468 62.8668 16.3098 62.8668ZM11.8617 3.62076C11.8617 3.25306 12.0367 2.96538 12.256 2.96538H20.3635C20.58 2.96538 20.7579 3.259 20.7579 3.62076V3.79574C20.7579 4.16345 20.58 4.45112 20.3635 4.45112H12.256C12.0396 4.45112 11.8617 4.15751 11.8617 3.79574V3.62076ZM2.96546 7.41353H29.6542V54.8602H2.96546V7.41353Z" fill="white"/>
                            <path d="M20.5067 25.5052C20.614 25.5052 20.7209 25.5102 20.8244 25.5203C21.538 25.55 23.3104 25.7975 24.4667 27.4398C24.4911 27.4744 24.5001 27.5172 24.4915 27.5584C24.4829 27.5997 24.4575 27.6357 24.4211 27.6585L24.4055 27.6679C24.0695 27.8696 22.3942 28.9826 22.4157 31.0841C22.4389 33.6709 24.6434 34.6199 24.8947 34.7197C24.8968 34.7206 24.9044 34.7236 24.9064 34.7245C24.981 34.7577 25.0177 34.8401 24.9917 34.9155L24.9862 34.9324C24.8496 35.3569 24.445 36.4677 23.6382 37.6117C22.8652 38.7074 21.9889 39.9495 20.5618 39.9753C19.8947 39.9874 19.4433 39.797 19.005 39.613C18.5602 39.4263 18.1004 39.2331 17.3797 39.2331C16.6223 39.2331 16.1393 39.4327 15.6724 39.6259C15.2565 39.7977 14.8264 39.9756 14.2311 39.9986C14.2066 39.9996 14.1826 40 14.1588 40C12.8918 40 11.9668 38.849 11.0531 37.5667C9.22274 35.0019 8.1705 30.7719 9.8257 27.9845C10.6962 26.5153 12.275 25.5876 13.946 25.5637L13.9966 25.5632C14.7152 25.5632 15.3941 25.8246 15.993 26.0553C16.4409 26.2277 16.8276 26.3767 17.1257 26.3767C17.3909 26.3767 17.7755 26.2295 18.2207 26.0592C18.8657 25.8124 19.6686 25.5052 20.5067 25.5052ZM20.8259 21.0001C20.909 20.9969 20.9827 21.0574 20.992 21.1387C21.1093 22.1769 20.7214 23.336 19.9542 24.2392C19.2253 25.0945 18.158 25.6257 17.1686 25.6257C17.0992 25.6256 17.0294 25.623 16.9611 25.6178C16.8856 25.6121 16.8245 25.5559 16.8145 25.483C16.6558 24.3181 17.2582 23.1624 17.8747 22.4692C18.6002 21.6446 19.814 21.0401 20.8259 21.0001Z" fill="white"/>
                        </svg>

                        <div class="mt-3">
                            Xabber for iOS
                        </div>
                    </a>
                </div>
            </div>

            <div class="d-flex justify-content-center mt-auto py-4 position-relative z-3 mt-auto">
                <a class="text-white" href="https://www.xabber.com/">www.xabber.com</a>
            </div>

            <div class="login-page__bottom mt-auto">
                <div class="login-page__wave login-page__wave--1"></div>
                <div class="login-page__wave login-page__wave--2"></div>
                <div class="login-page__wave login-page__wave--3"></div>
                <div class="login-page__wave login-page__wave--4"></div>
            </div>
        </main>
    </body>
{% endblock %}